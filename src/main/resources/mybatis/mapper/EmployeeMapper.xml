<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cykj.springbootweb.dd.mapper.EmployeeMapper">

	<insert id="add"
		useGeneratedKeys="true"
		keyProperty="dd_id"
		parameterType="com.cykj.springbootweb.dd.entity.Employee">
		insert into tb_employee(
			name,
			sex,
			did
		)values(
			#{name},
			#{sex},
			#{did}
		)
	</insert>
	
	<select id="get"
		parameterType="com.cykj.springbootweb.dd.entity.Employee"
		resultType="com.cykj.springbootweb.dd.entity.Employee">
		select
			v.name,
			v.sex,
			v.did
		from 
			tb_employee v
		where 
			1 = 1
		<if test="name != null and name != ''"> and v.name = #{name}</if>
		<if test="sex != null and sex != ''"> and v.sex = #{sex}</if>
		<if test="did != null and did != ''"> and v.did = #{did}</if>
	</select>
	
	<select id="getById"
		parameterType="com.cykj.springbootweb.dd.entity.Employee"
		resultType="com.cykj.springbootweb.dd.entity.Employee">
		select
			v.name,
			v.sex,
			v.did
		from 
			tb_employee v
		where 
			1 = 1
		and v.dd_id = #{dd_id}
		limit 1
	</select>
	
	<update id="update"
		parameterType="com.cykj.springbootweb.dd.entity.Employee">
		update tb_employee v
		set v.dd_id = #{dd_id}
		<if test="name != null and name != ''"> , v.name = #{name}</if>
		<if test="sex != null and sex != ''"> , v.sex = #{sex}</if>
		<if test="did != null and did != ''"> , v.did = #{did}</if>
		where v.dd_id = #{dd_id}
	</update>
	
	<delete id="del"
		parameterType="java.lang.String">
		delete from tb_employee
		where dd_id = #{dd_id}
	</delete>
	
	
</mapper>

