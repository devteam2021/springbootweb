<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cykj.springbootweb.dd.mapper.DepartmentMapper">

	<insert id="add"
		useGeneratedKeys="true"
		keyProperty="dd_id"
		parameterType="com.cykj.springbootweb.dd.entity.Department">
		insert into tb_department(
			name,
			remark
		)values(
			#{name},
			#{remark}
		)
	</insert>
	
	<select id="get"
		parameterType="com.cykj.springbootweb.dd.entity.Department"
		resultType="com.cykj.springbootweb.dd.entity.Department">
		select
			v.name,
			v.remark
		from 
			tb_department v
		where 
			1 = 1
		<if test="name != null and name != ''"> and v.name = #{name}</if>
		<if test="remark != null and remark != ''"> and v.remark = #{remark}</if>
	</select>
	
	<select id="getById"
		parameterType="com.cykj.springbootweb.dd.entity.Department"
		resultType="com.cykj.springbootweb.dd.entity.Department">
		select
			v.name,
			v.remark
		from 
			tb_department v
		where 
			1 = 1
		and v.dd_id = #{dd_id}
		limit 1
	</select>
	
	<update id="update"
		parameterType="com.cykj.springbootweb.dd.entity.Department">
		update tb_department v
		set v.dd_id = #{dd_id}
		<if test="name != null and name != ''"> , v.name = #{name}</if>
		<if test="remark != null and remark != ''"> , v.remark = #{remark}</if>
		where v.dd_id = #{dd_id}
	</update>
	
	<delete id="del"
		parameterType="java.lang.String">
		delete from tb_department
		where dd_id = #{dd_id}
	</delete>
	
	
</mapper>

